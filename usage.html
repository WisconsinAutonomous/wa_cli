<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Contributing" href="contributing.html" /><link rel="prev" title="Installation" href="installation.html" />

    <link rel="shortcut icon" href="_static/wa-dark-favicon.png"/><meta name="generator" content="sphinx-3.4.2, furo 2020.12.30.beta24"/>
        <title>Usage - Wisconsin Autonomous Command Line Interface 0.2.2 documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script defer="defer" src="_static/jquery.js"></script>
    <script defer="defer" src="_static/underscore.js"></script>
    <script defer="defer" src="_static/doctools.js"></script>
    <script defer src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
     
        <a style="text-decoration: none; color: white;" 
           href="https://wa.wisc.edu">
           <img src="https://github.com/WisconsinAutonomous/wa-resources/blob/master/Images/wa-dark.png?raw=true" 
                style="vertical-align: middle; display: inline; padding-right: 7.5px; height: 20px;"/>
           Checkout our website!
        </a>
     
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Wisconsin Autonomous Command Line Interface 0.2.2 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/wa-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/wa-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
<p><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/wa-cli/">PyPI</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/WisconsinAutonomous/wa_cli">Github</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<style>
	h4 {text-transform: lowercase;}
</style><section id="wa">
<h2><code class="docutils literal notranslate"><span class="pre">wa</span></code><a class="headerlink" href="#wa" title="Permalink to this headline">¶</a></h2>
<p>The root entrypoint for the <code class="docutils literal notranslate"><span class="pre">wa_cli</span></code> is <code class="docutils literal notranslate"><span class="pre">wa</span></code>. This the first command you need to access the CLI. All subsequent subcommands succeed <code class="docutils literal notranslate"><span class="pre">wa</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">dry</span><span class="o">-</span><span class="n">run</span><span class="p">]</span> <span class="p">{</span><span class="n">script</span><span class="p">,</span><span class="n">docker</span><span class="p">,</span><span class="n">wiki</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<section id="Named Arguments">
<h3>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h3>
<dl class="option-list">
<dt><kbd>-v, --verbose</kbd></dt>
<dd><p>Level of verbosity</p>
<p>Default: 0</p>
</dd>
<dt><kbd>--dry-run</kbd></dt>
<dd><p>Run as a dry run</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="sub-commands">
<h2>Sub-commands<a class="headerlink" href="#sub-commands" title="Permalink to this headline">¶</a></h2>
<p>Subcommands immediately succeed the <code class="docutils literal notranslate"><span class="pre">wa</span></code> command. They implement additional logic. Having subcommands rather than arguments directly to <code class="docutils literal notranslate"><span class="pre">wa</span></code> increases expandability as it will allow for additional features to be implemented without convoluting the help menu of the base <code class="docutils literal notranslate"><span class="pre">wa</span></code> command.</p>
<section id="script">
<h3><code class="docutils literal notranslate"><span class="pre">script</span></code><a class="headerlink" href="#script" title="Permalink to this headline">¶</a></h3>
<p>Initializer method for the <code class="docutils literal notranslate"><span class="pre">script</span></code> entrypoint.</p>
<p>This entrypoint serves as a mechanism for running various scripts meant for members of the
Wisconsin Autonomous student organization.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">script</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">{</span><span class="n">license</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<section id="script-license">
<h4><code class="docutils literal notranslate"><span class="pre">script</span> <span class="pre">license</span></code><a class="headerlink" href="#script-license" title="Permalink to this headline">¶</a></h4>
<p>The license command will automatically place headers at the top of each requested file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">script</span> <span class="n">license</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">tmpl</span> <span class="n">TMPL</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">years</span> <span class="n">YEARS</span><span class="p">]</span>
                         <span class="p">[</span><span class="o">--</span><span class="n">projname</span> <span class="n">PROJNAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">owner</span> <span class="n">OWNER</span><span class="p">]</span>
                         <span class="p">[</span><span class="o">--</span><span class="n">projurl</span> <span class="n">PROJURL</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ext</span> <span class="p">[</span><span class="n">EXT</span> <span class="p">[</span><span class="n">EXT</span> <span class="o">...</span><span class="p">]]]</span>
                         <span class="nb">dir</span>
</pre></div>
</div>
<section id="Positional Arguments">
<h5>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>dir</kbd></dt>
<dd><p>The directory to recursively process.</p>
</dd>
</dl>
</section>
<section id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>--tmpl</kbd></dt>
<dd><p>Template file to use. If it is not set, will default to using the template shipped with the package.</p>
</dd>
<dt><kbd>--years</kbd></dt>
<dd><p>Year or year range to use. If not set, will use the 2018-&lt;the current year&gt;.</p>
</dd>
<dt><kbd>--projname</kbd></dt>
<dd><p>Name of the project.</p>
<p>Default: “WA”</p>
</dd>
<dt><kbd>--owner</kbd></dt>
<dd><p>Name of the copyright owner.</p>
<p>Default: “Wisconsin Autonomous”</p>
</dd>
<dt><kbd>--projurl</kbd></dt>
<dd><p>URL of the project.</p>
<p>Default: “<a class="reference external" href="https://wa.wisc.edu">https://wa.wisc.edu</a>”</p>
</dd>
<dt><kbd>--ext</kbd></dt>
<dd><p>If specified, restrict processing to the specified extension(s) only.</p>
<p>Default: [‘py’, ‘cpp’]</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="docker">
<h3><code class="docutils literal notranslate"><span class="pre">docker</span></code><a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h3>
<p>Initializer method for the <code class="docutils literal notranslate"><span class="pre">docker</span></code> entrypoint.</p>
<p>The entrypoint serves as a mechanism for running containers with <code class="docutils literal notranslate"><span class="pre">docker</span></code>. A common
desireable usecase for simulations is to have it run in a containerized system; for instance, if a script
requiries a certain package, the Docker image could be shipped without needing to install the package
on a system locally. The scalability of using Docker over installing packages on a system is much greater.</p>
<p>There are a few ports that may be exposed, and the <em>typical</em> purpose of each port (for wa) is outlined below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">8080</span></code>: <code class="docutils literal notranslate"><span class="pre">novnc</span></code> port to display gui apps in a browser.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5900</span></code>: <code class="docutils literal notranslate"><span class="pre">vnc</span></code> port for displaying gui apps in a vnc viewer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">8888</span></code>: <code class="docutils literal notranslate"><span class="pre">rosboard</span></code> visualizer. See <a class="reference external" href="https://github.com/dheera/rosboard">their github</a>. This is used for visualizing ROS data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5555</span></code>: Used by <code class="docutils literal notranslate"><span class="pre">wa_simulator</span></code> to communicate data over a bridge or to another external entity</p></li>
</ul>
<p>There are also a few ip addresses we use and how they are used is seen below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">172.20.0.2</span></code>: Reserved for the control stack</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">172.20.0.3</span></code>: Reserved for the simulation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">172.20.0.4</span></code>: Reserved for vnc</p></li>
</ul>
<p>To see specific commands that are available, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wa docker -h
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">docker</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">{</span><span class="n">run</span><span class="p">,</span><span class="n">stack</span><span class="p">,</span><span class="n">vnc</span><span class="p">,</span><span class="n">network</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<section id="docker-run">
<h4><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code><a class="headerlink" href="#docker-run" title="Permalink to this headline">¶</a></h4>
<p>The run command will spin up a Docker container that runs a python script with the desired image.</p>
<p>The use case for the run command is when we’d like to run a simulation script with a certain
operating system configuration or in a way that’s distributable across computers. Everyone’s setup is different,
i.e. OS, development environment, packages installed. Using Docker, you can simply run <code class="docutils literal notranslate"><span class="pre">wa</span> <span class="pre">docker</span> <span class="pre">run...</span></code>
and run any script agnostic from your local system.</p>
<p>The run command requires one argument: a python script to run in the container.
The python script is the actual file we’ll run from within the
container. After the python script, you may add arguments that will get passed to the script
when it’s run in the container.</p>
<p>Example cli commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run from within wa_simulator/demos/bridge</span>
<span class="c1"># Running wa_simulator/demos/bridge/demo_bridge_server.py using command line arguments</span>
<span class="c1"># This should be used to communicate with a client running on the host</span>
wa docker run <span class="se">\</span>
        --name wasim-docker <span class="se">\</span>
        --image wiscauto/wa_simulator:latest <span class="se">\</span>
        --network <span class="s2">"wa"</span> <span class="se">\</span>
        --data <span class="s2">"../data:/root/data"</span> <span class="se">\ </span><span class="c1"># ':root/data' not really necessary</span>
        --data <span class="s2">"pid_controller.py"</span> <span class="se">\ </span> <span class="c1"># Will be resolved to an absolute path automatically</span>
        --port <span class="s2">"5555:5555"</span> <span class="se">\</span>
        demo_bridge_server.py --step_size 2e-3

<span class="c1"># Or more simply, leveraging provided by 'wasim'</span>
wa docker run <span class="se">\</span>
        --wasim <span class="se">\</span>
        --data <span class="s2">"../data:/root/data"</span> <span class="se">\</span>
        --data <span class="s2">"pid_controller.py"</span> <span class="se">\</span>
        demo_bridge_server.py --step_size 2e-3

<span class="c1"># Leverage defaults, but using the develop image</span>
wa docker run <span class="se">\</span>
        --wasim <span class="se">\</span>
        --image wiscauto/wa_simulator:develop <span class="se">\</span>
        --data <span class="s2">"../data:/root/data"</span> <span class="se">\</span>
        --data <span class="s2">"pid_controller.py"</span> <span class="se">\</span>
        demo_bridge_server.py --step_size 2e-3
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">docker</span> <span class="n">run</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">name</span> <span class="n">NAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">image</span> <span class="n">IMAGE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">data</span> <span class="n">DATA</span><span class="p">]</span>
                     <span class="p">[</span><span class="o">--</span><span class="n">port</span> <span class="n">PORT</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">env</span> <span class="n">ENVIRONMENT</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">network</span> <span class="n">NETWORK</span><span class="p">]</span>
                     <span class="p">[</span><span class="o">--</span><span class="n">ip</span> <span class="n">IP</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">wasim</span> <span class="o">|</span> <span class="o">--</span><span class="n">wasim</span><span class="o">-</span><span class="n">without</span><span class="o">-</span><span class="n">vnc</span><span class="p">]</span>
                     <span class="n">script</span> <span class="o">...</span>
</pre></div>
</div>
<section id="Positional Arguments">
<h5>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>script</kbd></dt>
<dd><p>The script to run up in the Docker container</p>
</dd>
<dt><kbd>script_args</kbd></dt>
<dd><p>The arguments for the [script]</p>
</dd>
</dl>
</section>
<section id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>--name</kbd></dt>
<dd><p>Name of the container.</p>
</dd>
<dt><kbd>--image</kbd></dt>
<dd><p>Name of the image to run.</p>
</dd>
<dt><kbd>--data</kbd></dt>
<dd><p>Data to pass to the container as a Docker volume. Multiple data entries can be provided.</p>
<p>Default: []</p>
</dd>
<dt><kbd>--port</kbd></dt>
<dd><p>Ports to expose from the container.</p>
<p>Default: []</p>
</dd>
<dt><kbd>--env</kbd></dt>
<dd><p>Environment variables.</p>
<p>Default: []</p>
</dd>
<dt><kbd>--network</kbd></dt>
<dd><p>The network to communicate with.</p>
</dd>
<dt><kbd>--ip</kbd></dt>
<dd><p>The static ip address to use when connecting to ‘network’. Used as the server ip.</p>
</dd>
<dt><kbd>--wasim</kbd></dt>
<dd><p>Run the passed script with all the defaults for the wa_simulator. Will set ‘DISPLAY’ to use vnc.</p>
<p>Default: False</p>
</dd>
<dt><kbd>--wasim-without-vnc</kbd></dt>
<dd><p>Run the passed script with all the defaults for the wa_simulator. Will not use vnc.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="docker-stack">
<h4><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">stack</span></code><a class="headerlink" href="#docker-stack" title="Permalink to this headline">¶</a></h4>
<p>Command that essentially wraps <code class="docutils literal notranslate"><span class="pre">docker-compose</span></code> and can help spin up, attach, destroy, and build docker-compose based containers.</p>
<p>This command is completely redundant; it simply combines all the build, spin up, attach or destroy
logic in a single command. The usage here is for Wisconsin Autonomous members to quickly start
and attach to control stack docker containers that are based on the typical docker-compose file that we use.</p>
<p>There are four possible commands that can be used using the <code class="docutils literal notranslate"><span class="pre">stack</span></code> subcommand:
<code class="docutils literal notranslate"><span class="pre">build</span></code>, <code class="docutils literal notranslate"><span class="pre">up</span></code>, <code class="docutils literal notranslate"><span class="pre">down</span></code>, and <code class="docutils literal notranslate"><span class="pre">attach</span></code>. For example, if you’d like to build the container, you’d run
the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wa docker stack --build
</pre></div>
</div>
<p>If you’d like to build, start the container, then attach to it, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wa docker stack --build --up --attach
<span class="c1"># OR (shorthand)</span>
wa docker stack -b -u -a
<span class="c1"># OR</span>
wa docker stack -bua
</pre></div>
</div>
<p>If no arguments are passed, this is equivalent to the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wa docker stack --up --attach
</pre></div>
</div>
<p>If desired, pass <code class="docutils literal notranslate"><span class="pre">--down</span></code> to stop the container. Further, if the container exists and changes are
made to the repository, the container will <em>not</em> be built automatically. To do that, add the
<code class="docutils literal notranslate"><span class="pre">--build</span></code> argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">docker</span> <span class="n">stack</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">NAME</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">b</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>-n, --name</kbd></dt>
<dd><p>Name of the container.</p>
</dd>
<dt><kbd>-b, --build</kbd></dt>
<dd><p>Build the stack.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-u, --up</kbd></dt>
<dd><p>Spin up the stack.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-d, --down</kbd></dt>
<dd><p>Tear down the stack.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-a, --attach</kbd></dt>
<dd><p>Attach to the stack.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="docker-vnc">
<h4><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">vnc</span></code><a class="headerlink" href="#docker-vnc" title="Permalink to this headline">¶</a></h4>
<p>Command to spin up a <code class="docutils literal notranslate"><span class="pre">vnc</span></code> docker container to allow the visualization of GUI apps in docker</p>
<p><a class="reference external" href="https://novnc.com/info.html">noVNC</a> is a tool for using <a class="reference external" href="https://en.wikipedia.org/wiki/Virtual_Network_Computing">VNC</a> in a browser.
<a class="reference external" href="https://github.com/wisconsinautonomous/docker-vnc">docker-vnc</a> is a docker container that’s been created that runs vnc and can be used
to visualize gui applications for other docker containers in a browser or via a vnc viewer. There are a few requirements to ensure gui apps are correctly visualized, as seen below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">network</span></code>: Docker networks are used to help containers communicate with other containers or with the host. When spinning up a container that you want to
visualize a gui app with vnc, you will need to make sure it is connected to the same network as the vnc container, i.e. make sure the original container is
connected to the same network that you passed to <code class="docutils literal notranslate"><span class="pre">--network</span></code> (or the default <code class="docutils literal notranslate"><span class="pre">wa</span></code> network).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">port</span></code>: The novnc instance can be visualized in your browser at <a class="reference external" href="http://localhost:8080/vnc_auto.html">http://localhost:8080/vnc_auto.html</a>. As seen in the url,
the application is hosted on port 8080. This port must then be exposed from the container to the host. This is again done by the <code class="docutils literal notranslate"><span class="pre">wa</span> <span class="pre">docker</span> <span class="pre">novnc</span></code> command. Furthermore, to visualzie the apps in a vnc viewer, 5900 also has to be exposed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DISPLAY</span></code>: The <a class="reference external" href="https://askubuntu.com/questions/432255/what-is-the-display-environment-variable">DISPLAY</a> environment variable is used to help display
applications in X window systems (used by any linux based container, like the ones we use). To make sure the gui apps are visualized in vnc when the aforementioned
requirements are setup, you need to make sure the <code class="docutils literal notranslate"><span class="pre">DISPLAY</span></code> variable is set correctly. The variable should be set to <code class="docutils literal notranslate"><span class="pre">vnc:0.0</span></code> (assuming the vnc container that has
been setup is named ‘vnc’).</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">docker</span> <span class="n">vnc</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">name</span> <span class="n">NAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">network</span> <span class="n">NETWORK</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ip</span> <span class="n">IP</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">stop</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>--name</kbd></dt>
<dd><p>Name of the container.</p>
<p>Default: “vnc”</p>
</dd>
<dt><kbd>--network</kbd></dt>
<dd><p>The network to communicate with.</p>
<p>Default: “wa”</p>
</dd>
<dt><kbd>--ip</kbd></dt>
<dd><p>The static ip address to use when connecting to ‘network’.</p>
<p>Default: “172.20.0.4”</p>
</dd>
<dt><kbd>--stop</kbd></dt>
<dd><p>Stop the vnc container.</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="docker-network">
<h4><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">network</span></code><a class="headerlink" href="#docker-network" title="Permalink to this headline">¶</a></h4>
<p>Command to start a docker network for use with WA applications</p>
<p>To create complicated docker systems, <a class="reference external" href="https://docs.docker.com/network/">networks</a> are a common mechanism. They
allow multiple docker containers to be used together, where each implements its own features and is isolated,
outside of its communication between each other. Example use cases are one container for <code class="docutils literal notranslate"><span class="pre">wa_simulator</span></code>,
one for <code class="docutils literal notranslate"><span class="pre">vnc</span></code> for visualizing gui apps, and one for <code class="docutils literal notranslate"><span class="pre">ros</span></code> to run control logic, where each communicator is
on the same network and allows for each container to send data between each other.</p>
<p>This command will initialize a container with defaults that are typical for WA applications.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">docker</span> <span class="n">network</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">name</span> <span class="n">NAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ip</span> <span class="n">IP</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>--name</kbd></dt>
<dd><p>Name of the network to create.</p>
<p>Default: “wa”</p>
</dd>
<dt><kbd>--ip</kbd></dt>
<dd><p>The ip address to use when creating the network. All containers connected to it must be in the subnet 255.255.255.0 of this value.</p>
<p>Default: “172.20.0.0”</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="wiki">
<h3><code class="docutils literal notranslate"><span class="pre">wiki</span></code><a class="headerlink" href="#wiki" title="Permalink to this headline">¶</a></h3>
<p>Initializer method for the <code class="docutils literal notranslate"><span class="pre">wiki</span></code> entrypoint.</p>
<p>This entrypoint serves as a mechanism for running helpers that relate to
the wiki website at <a class="reference external" href="https://WisconsinAutonomous.github.io">WisconsinAutonomous.github.io</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">wiki</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">{</span><span class="n">post</span><span class="p">,</span><span class="n">dev</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<section id="wiki-post">
<h4><code class="docutils literal notranslate"><span class="pre">wiki</span> <span class="pre">post</span></code><a class="headerlink" href="#wiki-post" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">post</span></code> command will create a post template for the Wisconsin Autonomous Wiki.</p>
<p>The Wiki is located at <a class="reference external" href="https://WisconsinAutonomous.github.io">WisconsinAutonomous.github.io</a> and
is a jekyll site that creates website pages from markdown code.</p>
<p>For information on creating a new post, see <a class="reference external" href="https://wisconsinautonomous.github.io/posts/writing-a-new-post/">this page</a>.</p>
<p>This command a generated post template similar to the following:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
title: New Post
author: Your Name
date: 2021-01-11 00:00:00 -0600
categories: [Introduction, Wiki Tutorials]
tags: [tutorials, templates, non-technical]
---

This is a template for a new post for this site. Feel free to copy this markdown directly to your new file.

## Setup Guide


## Support

Contact [Your Name](mailto:wiscid@wisc.edu) for any questions or concerns regarding the contents of this post.

## See Also

Stay up to date with our technical info by following our [blog](https://wa.wisc.edu/blog).

Follow us on [Facebook](https://www.facebook.com/wisconsinautonomous/), [Instagram](https://www.instagram.com/wisconsinautonomous/), and [LinkedIn](https://www.linkedin.com/company/wisconsin-autonomous/about/)!

![WA Logo](/assets/img/logos/wa-white.png){: .left height="100"}
![Wisconsin Crest](/assets/img/logos/uw-crest.png){: .right height="100"}
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">wiki</span> <span class="n">post</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">--</span><span class="n">title</span> <span class="n">TITLE</span> <span class="p">[</span><span class="o">--</span><span class="n">author</span> <span class="n">AUTHOR</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">--</span><span class="n">category</span> <span class="n">CATEGORIES</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">tag</span> <span class="n">TAGS</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">email</span> <span class="n">EMAIL</span><span class="p">]</span>
</pre></div>
</div>
<section id="Named Arguments">
<h5>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h5>
<dl class="option-list">
<dt><kbd>--title</kbd></dt>
<dd><p>The title of the post.</p>
</dd>
<dt><kbd>--author</kbd></dt>
<dd><p>The author to use for the post.</p>
<p>Default: “Wisconsin Autonomous”</p>
</dd>
<dt><kbd>--category</kbd></dt>
<dd><p>The categories to mark on the post</p>
<p>Default: []</p>
</dd>
<dt><kbd>--tag</kbd></dt>
<dd><p>The tags to mark on the post</p>
<p>Default: []</p>
</dd>
<dt><kbd>--email</kbd></dt>
<dd><p>Email to use in the post.</p>
<p>Default: “<a class="reference external" href="mailto:wisconsinautonomous%40studentorg.wisc.edu">wisconsinautonomous<span>@</span>studentorg<span>.</span>wisc<span>.</span>edu</a>”</p>
</dd>
</dl>
</section>
</section>
<section id="wiki-dev">
<h4><code class="docutils literal notranslate"><span class="pre">wiki</span> <span class="pre">dev</span></code><a class="headerlink" href="#wiki-dev" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">dev</span></code> command spins up a docker container that serves up a local build of the wiki at <a class="reference external" href="https://localhost:4000">https://localhost:4000</a></p>
<p>To test changes locally, from within the root directory of the <a class="reference external" href="https://github.com/WisconsinAutonomous/WisconsinAutonomous.github.io">WisconsinAutonomous.github.io</a>, run <code class="docutils literal notranslate"><span class="pre">wa</span> <span class="pre">wiki</span> <span class="pre">dev</span></code>.
This will build the wiki pages locally. Ensure this is done before pushing to github.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">wa</span> <span class="n">wiki</span> <span class="n">dev</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="contributing.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Contributing</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="installation.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2022, Wisconsin Autonomous
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/usage.md.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#wa"><code class="docutils literal notranslate"><span class="pre">wa</span></code></a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sub-commands">Sub-commands</a><ul>
<li><a class="reference internal" href="#script"><code class="docutils literal notranslate"><span class="pre">script</span></code></a><ul>
<li><a class="reference internal" href="#script-license"><code class="docutils literal notranslate"><span class="pre">script</span> <span class="pre">license</span></code></a><ul>
<li><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#docker"><code class="docutils literal notranslate"><span class="pre">docker</span></code></a><ul>
<li><a class="reference internal" href="#docker-run"><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code></a><ul>
<li><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#docker-stack"><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">stack</span></code></a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#docker-vnc"><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">vnc</span></code></a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#docker-network"><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">network</span></code></a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#wiki"><code class="docutils literal notranslate"><span class="pre">wiki</span></code></a><ul>
<li><a class="reference internal" href="#wiki-post"><code class="docutils literal notranslate"><span class="pre">wiki</span> <span class="pre">post</span></code></a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wiki-dev"><code class="docutils literal notranslate"><span class="pre">wiki</span> <span class="pre">dev</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>